<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<!--引入bootstrap CSS样式  -->
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css" type="text/css"/>
    <!--引入自定义样式  -->
    <link rel="stylesheet" href="css/main.css" type="text/css"/>
	<!--引入bootstrapValidator样式  -->
    <link rel="stylesheet" href="css/bootstrapValidator.min.css" type="text/css"/>
    <!--引入文件上传样式样式  -->
    <link rel="stylesheet" type="text/css" href="css/fileinput.min.css"/>
	<!--引入jquery  -->
	<script type="text/javascript" src="bootstrap/js/jquery-1.11.3.min.js"></script>
	<!--引入bootstrap JS插件 -->
	<script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
	<!--引入bootstrapValidator JS插件 -->
	<script type="text/javascript" src="js/bootstrapValidator.js"></script> 
	<!--引入文件上传插件 -->
	<script type="text/javascript" src="js/fileinput.min.js"></script>

	<script type="text/javascript" src="js/fileinput_locale_zh.js"></script>
	<!--引入main.js -->
	<script type="text/javascript" src="js/main.js"></script>
	<!--引入分页插件 -->
	<script type="text/javascript" src="js/jquery.twbsPagination.js"></script>
	
	<title>个人中心</title>
</head>


<body>
	<div class="header">
		<div class="container">
			<div class="row">
				<nav class="navbar navbar-default col-lg-12 navbar-fixed-top navbar-inverse" role="navigation">
					<!-- <div class="header-logo"> -->
						<div class="navbar-header col-lg-2">
							
							<a href="index.html" class="navbar-brand "><strong>首 页</strong></a>
							<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>
						</div>
					<!-- </div> --><!-- header-logo结束 -->
					
					
						<div class="collapse navbar-collapse " id="navbar-collapse">
							<div class="header-nav">
								<ul class="nav navbar-nav">
									<li><a href="video.html">视频</a></li>
									<li><a href="audio.html">音频</a></li>
									<li><a href="#">图像</a></li>
									<li><a href="#">文档</a></li>
								</ul>
							</div><!-- header-nav结束 -->	

							<form action="#" class="form-inline header-search" methed="post" id="search">
								<div class="form-group">
									<select class="form-control">

								    	<option value="all">全部</option>
								    	<option value="video">视频</option>
								    	<option value="audio">音频</option>
								    	<option value="picture">图像</option>
								    	<option value="document">文档</option>
								  	</select>
								 </div>
								<div class="form-group">
									<input type="text" class="form-control " placeholder="视频/音频/图像/文档"  size="20" id="searchText"/>
									<a href="javascript:void(0);" onclick="checkSearch()"><span class="glyphicon glyphicon-search"></span></a>
								</div>
							</form>
							<!-- header-search 结束-->	
							<div class="header-zone-login btn-group">
								<button type="button" class="btn btn-info" >退出</button>
								<button type="button" class=" btn-group btn btn-primary "><span onclick="forwardToZone()">蓝天白云</span></button>
							</div>
						</div>	
					</nav>			
				</div>
			
		</div>
	</div><!-- header结束-->

	<div class="wrap wrap-zone">
		<div class="zone-user-info" >
			<div class="container">
				<div class="row col-lg-4 col-lg-offset-4">
					<div class="headPic" >
					<!-- <img  src="img/140.png" alt="140x140" > -->
						<img  class="img-circle" alt="140x140" src="img/headPic.jpg" onclick="alertZoneHeadPic()" style="cursor:pointer">
						<div >
						名侦探柯南
						</div>
					</div>
				</div>	
			</div>
		</div><!-- 用户信息结束-->

		<div class="zone-content">
			<div class="container">
				<div class="row">
					<div class="col-lg-12">
						<ul class="nav nav-tabs">
							<li class="active"><a href="#upload" data-toggle="tab" >上传资源</a></li>
							<li><a href="#myUpload" data-toggle="tab" >我的上传</a></li>
							<li><a href="#downloadRecord" data-toggle="tab" onclick="getDownloadByAjax()">下载记录</a></li>
							<li><a href="#collection" data-toggle="tab">我的收藏</a></li>
						</ul>
						<div class="tab-content">
							<div class="tab-pane active" id="upload">
								<form enctype="multipart/form-data" method="post" action="upload.php">
									<input id="input-upload" type="file" name="file" multiple class="file-loading">

								</form>
								<!-- multiple class="file-loading" -->

							</div><!--upload结束 -->
							<div class="tab-pane" id="myUpload">
								<table class="table table-striped  table-hover">
								<thead>
									<tr>
										<th>序号</th>
										<th>名称</th>
										<th>类型</th>
										<th>上传时间</th>
										<th>浏览量</th>
										<th>操作</th>
									</tr>
								</thead>
								<tbody>
									
									<tr>
										<td>001</td>
										<td>年轮</td>
										<th>视频</th>
										<td>2015.07.23</td>
										<td>108</td>
										<td><button class="btn btn-info" type="button" data-toggle="modal" data-target="#delete">删除</button></td>
									</tr>

									<tr>
										<td>002</td>
										<td>年轮</td>
										<th>音频</th>
										<td>2015.07.23</td>
										<td>56</td>
										<td><button class="btn btn-info" type="button" data-toggle="modal" data-target="#delete">删除</button></td>
									</tr>
									<tr>
										<td>003</td>
										<td>年轮</td>
										<th>图像</th>
										<td>2015.07.23</td>
										<td>24</td>
										<td><button class="btn btn-info" type="button" data-toggle="modal" data-target="#delete">删除</button></td>
									</tr>
								</tbody>
							</table>
							<div class="container">
								<div class="row col-lg-6 col-lg-offset-3">
									<ul class="pagination" id="uploadPages">
									</ul>
								</div>
							</div>
							</div>
							<div class="tab-pane" id="downloadRecord">
								<table class="table table-striped  table-hover">
								<thead>
									<tr>
										<th>序号</th>
										<th>名称</th>
										<th>类型</th>
										<th>下载时间</th>
										<th>操作</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>001</td>
										<td>年轮</td>
										<th>视频</th>
										<td>2015.07.23</td>
										<td><button class="btn btn-info" type="button" data-toggle="modal" data-target="#delete">删除</button></td>
									</tr>
									<tr>
										<td>002</td>
										<td>年轮</td>
										<th>音频</th>
										<td>2015.07.23</td>
										<td><button class="btn btn-info" type="button" data-toggle="modal" data-target="#delete">删除</button></td>
									</tr>
									<tr>
										<td>003</td>
										<td>年轮</td>
										<th>图像</th>
										<td>2015.07.23</td>
										<td><button class="btn btn-info" type="button" data-toggle="modal" data-target="#delete">删除</button></td>
									</tr>
								</tbody>
							</table>
							<div class="container">
								<div class="row col-lg-6 col-lg-offset-3">
									<ul class="pagination" id="downloadPages">
									</ul>
								</div>
							</div>
							</div><!--downloadRecord结束 -->

							<div class="tab-pane" id="collection">
								<table class="table table-striped  table-hover">
								<thead>
									<tr>
										<th>序号</th>
										<th>名称</th>
										<th>类型</th>
										<th>收藏时间</th>
										<th>操作</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>001</td>
										<td>年轮</td>
										<th>视频</th>
										<td>2015.07.23</td>
										<td><button class="btn btn-info" type="button" data-toggle="modal" data-target="#delete">删除</button></td>
									</tr>
									<tr>
										<td>002</td>
										<td>年轮</td>
										<th>音频</th>
										<td>2015.07.23</td>
										<td><button class="btn btn-info" type="button" data-toggle="modal" data-target="#delete">删除</button></td>
									</tr>
									<tr>
										<td>003</td>
										<td>年轮</td>
										<th>图像</th>
										<td>2015.07.23</td>
										<td><button class="btn btn-info" type="button" data-toggle="modal" data-target="#delete">删除</button></td>
									</tr>
								</tbody>
							</table>
							<div class="container">
								<div class="row col-lg-6 col-lg-offset-3">
									<ul class="pagination" id="collectPages">
									</ul>
								</div>
							</div>
							</div><!--download结束 -->
						</div><!--content结束 -->
					</div>
				</div>
			</div>
	</div>	



<div class="modal fade" id="zoneHeadPic">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">修改个人资料</h4>
            </div>
            <div class="modal-body">
				<ul class="nav nav-tabs">
					<li class="active"><a href="#updateHeadPic" data-toggle="tab" >修改头像</a></li>
					<li><a href="#updateUsername" data-toggle="tab" >修改用户名</a></li>
					<li><a href="#updatePassword" data-toggle="tab" >修改密码</a></li>
				</ul>
				<div class="tab-content">
					<div class="tab-pane active" id="updateHeadPic">
						<form action=".action" enctype="multipart/form-data" >
							<input id="userInfoUpload" type="file">
						</form>
					</div>
					<div class="tab-pane" id="updateUsername">
						<form role="form" id="rename" class="form-horizontal zone-update-margin">
						  	<div class="form-group">
						  		<label class="col-lg-3 control-label">用户名</label>
						  		<div class="col-lg-5">    
						    		<input type="text" class="form-control" name="username">
						    	</div>
							</div>
							<div class="form-group">
	                            <div class="col-lg-9 col-lg-offset-4">
	                                <button type="button" class="btn btn-primary" name="rename">修改</button>
	                                <button type="button" class="btn btn-info" id="renameResetBtn">重置</button>
	                            </div>
	                        </div>
						</form> 
					</div>
					<div class="tab-pane" id="updatePassword">
						<form role="form" action="#" method="post" id="repwd" class="form-horizontal zone-update-margin">
						  	<div class="form-group">
						  		<label class="col-lg-3 control-label">正在使用的密码</label>
						  		<div class="col-lg-5">		    
						    		<input type="text" class="form-control"  name="nowpwd">
						    	</div>
						    </div>
						    <div class="form-group">
						    	<label class="col-lg-3 control-label">新密码</label>
						  		<div class="col-lg-5">	
						    		<input type="text" class="form-control"  name="newpwd">
						    	</div>
						    </div>
						    <div class="form-group">
						    	<label class="col-lg-3 control-label">确认新密码</label>
						  		<div class="col-lg-5">
						    		<input type="text" class="form-control"  name="confirmpwd">
						    	</div>
							</div>
							<div class="form-group">
	                            <div class="col-lg-9 col-lg-offset-4">
	                                <button type="button" class="btn btn-primary" name="repwd">修改</button>
	                                <button type="button" class="btn btn-info" id="repwdResetBtn">重置</button>
	                            </div>
	                        </div>
						</form> 
					</div>
				</div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->





<div class="modal fade" id="delete">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h2 class="modal-title">删除</h2>
            </div>
             <div class="modal-body">
				<h4>确定要删除么，一旦删除，不可恢复</h4>
             </div>
             <div class="modal-footer">
             	<button type="button" class="btn btn-primary" data-dismiss="modal" onclick="alert(123)">确定</button>

                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<script type="text/javascript">
	// $("#test").mouseover(function(){
	// 	$(".headPic").addClass("addHeadPic");
	// });
	// $("#test").mouseout(function(){
	// 	$(".headPic").removeClass("addHeadPic");
	// });
	// 
	
		$(document).ready(function () {

		    $('#uploadPages').twbsPagination({
		        totalPages: 30,
		        visiblePages: 5,
		        version: '1.1',
		        onPageClick: function (event, page) {
		            $('#page-content').text('Page ' + page);
		         
		        }
		    });


		    $('#downloadPages').twbsPagination({
		        totalPages: 30,
		        visiblePages: 5,
		        version: '1.1',
		        onPageClick: function (event, page) {
		            $('#page-content').text('Page ' + page);
		            
		        }
		    });

		    $('#collectPages').twbsPagination({
		        totalPages: 30,
		        visiblePages: 5,
		        version: '1.1',
		        onPageClick: function (event, page) {
		            $('#page-content').text('Page ' + page);      
		        }
		    });

		    // 验证修改用户名的合法性
		    $("#rename").bootstrapValidator({
		    	message: '不可用',
		    	feedbackIcons: {
            		valid: 'glyphicon glyphicon-ok',
            		invalid: 'glyphicon glyphicon-remove',
            		validating: 'glyphicon glyphicon-refresh'
        		},
        		fields:{
        			username: {
	                	validators: {
	                    	notEmpty: {
	                        	message: '用户名不能为空'
	                    	},
	                    	stringLength: {
	                        	min: 6,
	                        	max: 20,
	                        	message: '用户名必须不少于6个字符，不多于20个字符'
	                    	},
		                    regexp: {
		                        regexp: /^[a-zA-Z0-9_\u4e00-\u9fa5]+$/,
		                        message: '用户名只能包含中文、字母、数字和下划线'
		                    } 
	                	}
	           	 	}
        		}
		    });
		    $('#renameResetBtn').click(function() {
        		$('#rename').data('bootstrapValidator').resetForm(true);
        	});

		    //验证用户修改密码的合法性
		    $("#repwd").bootstrapValidator({
		    	message: '不可用',
		    	feedbackIcons: {
		    		valid: 'glyphicon glyphicon-ok',
            		invalid: 'glyphicon glyphicon-remove',
            		validating: 'glyphicon glyphicon-refresh'
		    	},
		    	fields: {
		    		nowpwd: {
		    			validators: {
		    				notEmpty: {
		    					message: '正在使用的密码不能为空'
		    				},
		    				different: {
		    					field: 'newpwd',
		    					message: '正在使用的密码不能和新密码一致'
		    				}
		    			}
		    		},
		    		newpwd: {
	                	validators: {
	                    	notEmpty: {
	                        	message: '密码不能为空'
	                    	},
	                    	stringLength: {
                        		min: 6,
                        		max: 16,
                        		message: '密码必须不少于6个字符，不多于16个字符'
                    		},
	                    	regexp: {
	                        	regexp: /^[a-zA-Z0-9_]+$/,
	                        	message: '密码只能包含英文字母、数字和下划线'
	                    	},
	                    	identical: {
	                        	field: 'confirmpwd',
	                        	message: '密码和确认密码不一致'
	                    	}
	                	}
	            	},
	            	confirmpwd: {
	                	validators: {
	                    	notEmpty: {
	                        	message: '两次输入密码不一致'
	                    	},
	                    	identical: {
	                        	field: 'newpwd',
	                        	message: '密码和确认密码不一致'
	                    	}
	                	}
	            	}
		    	}
		    });
			$('#repwdResetBtn').click(function() {
        		$('#repwd').data('bootstrapValidator').resetForm(true);
        	});



	// 文件上传
	$("#input-upload").fileinput({
		language: "zh",
		browseClass: "btn btn-primary btn-block",
		showCaption: false,
		removeClass: "btn btn-danger",
		removeLabel: "删除",
		removeIcon: '<i class="glyphicon glyphicon-trash"></i>',
		uploadClass: "btn btn-info",
		uploadLabel: "上传",
		uploadIcon: '<i class="glyphicon glyphicon-upload"></i>',
		allowedFileExtensions : ['jpg', 'png','mp3','html','doc','mp4','pdf','flv'],
		showUpload: true,
		maxFileSize: 100000,
        maxFileCount: 1,
        uploadUrl: 'upload.php',
        uploadAsync: true,
        
	});

	$("#userInfoUpload").fileinput({
			language: "zh",
			browseClass: "btn btn-primary btn-block",
			showCaption: false,
			removeClass: "btn btn-danger",
			removeLabel: "删除",
			removeIcon: '<i class="glyphicon glyphicon-trash"></i>',
			uploadClass: "btn btn-info",
			uploadLabel: "上传",
			uploadIcon: '<i class="glyphicon glyphicon-upload"></i>',
			allowedFileExtensions : ['jpg', 'png','jpeg'],
			maxFileSize: 1000,
        	maxFilesNum: 1,
		});

});
	
</script>
	
</body>
</html>